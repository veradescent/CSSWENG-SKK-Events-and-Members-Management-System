<head>
    <script defer src="/js/adminHomePage.js"></script>
    <link rel="stylesheet" href="/css/adminHomePage.css">
</head>
<div class="container mt-5">
    <div class="text-center">
        <h1 class="fw-bold display-3">Simpleng Kristiyanong Komunidad</h1>
        <div>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
    </div>

<!-- upcoming events (carousel) -->
<section id="events-carousel-section" class="mt-4">
  <div class="d-flex align-items-center justify-content-between mb-2">
    <h4 class="m-0">Upcoming Events</h4>
    <!-- nav arrows -->
    <div>
      <button id="carouselLeft" class="carousel-arrow carousel-arrow-left" aria-label="previous" type="button">&larr;</button>
      <button id="carouselRight" class="carousel-arrow carousel-arrow-right" aria-label="next" type="button">&rarr;</button>
    </div>
  </div>

  <div class="events-carousel-container" style="position:relative;">
    <div id="eventsCarousel" class="events-carousel-wrapper">
      {{#each upcoming}}
        <div class="event-card-wrapper">
          <div class="card mt-3">
            <div class="card-body d-flex">
              <div style="flex:1 1 auto; min-width:0;">
                <h6 class="card-subtitle mb-2 text-muted">
                  {{displayDate}} | {{displayStartTime}} - {{displayEndTime}}
                </h6>
                <h5 class="card-title">{{eventName}}</h5>
                <p>{{eventDescription}}</p>
                {{#if ../user}}
                  {{#if (eq ../user.role 'admin')}}
                    <div class="d-flex justify-content-end">
                      <a class="btn btn-primary btn-sm" href="/editEvent/{{_id}}">Edit</a>
                    </div>
                  {{/if}}
                {{/if}}
              </div>

              <div style="width:120px; margin-left:12px; flex:0 0 120px;">
                {{!-- FIXED FALLBACK IMAGE (SKK_Logo.png) --}}
                <img src="{{#if image}}{{image}}{{else}}/assets/SKK_Logo.png{{/if}}" 
                     alt="{{eventName}}" 
                     style="width:100%; height:72px; object-fit:cover; border-radius:6px; border:1px solid #ddd;">
              </div>

            </div>
          </div>
        </div>
      {{/each}}
    </div>
  </div>
</section>

{{!-- Create button area (admin only) --}}
{{#if user}}
  {{#if (eq user.role 'admin')}}
    <div class="justify-content-end">
      <button class="mt-3 btn btn-success rounded" id="create-event" type="button">
        Create a New Event
      </button>
    </div>
  {{/if}}
{{/if}}

<!-- contact us -->
<div class="justify-content-center align-items-center mt-3 row">
    <div class="text-center col-sm-3">
        <h2 class="fw-bold display-4">Contact Us</h2>
    </div>
    <div class="col-sm-6">
        <form>
            <div class="mt-3 row">
                <label class="col-sm-2 form-label" for="comment">Comment</label>
                <div class="col-sm-10">
                    <input class="form-control" type="text" id="comment">
                </div>
            </div>
            <div class="mt-3 row">
                <label class="col-sm-2 form-label" for="name">Name</label>
                <div class="col-sm-10">
                    <input class="form-control" type="text" id="name">
                </div>
            </div>
            <div class="mt-3 row">
                <label class="col-sm-2 form-label" for="email">Email</label>
                <div class="col-sm-10">
                    <input class="form-control" type="email" id="email">
                </div>
            </div>
        </form>
    </div>
</div>
</div>
