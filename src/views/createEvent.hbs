<!-- src/views/createEvent.hbs -->
<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-body">
            <h3>Create Event</h3>
            <form id="createEventForm" method="POST" action="/createEvent">
                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="eventName">Event Name</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="eventName" name="eventName" required>
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="eventDescription">Event Description</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" id="eventDescription" name="eventDescription" rows="4"></textarea>
                    </div>
                </div>

                <!-- Location field (added) -->
                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="eventLocation">Location</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="eventLocation" name="eventLocation">
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="eventType">Event Type</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="eventType" name="eventType" placeholder="e.g. Workshop, Meeting, Outreach">
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="startDateTime">Start</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="datetime-local" id="startDateTime" name="startDateTime">
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="endDateTime">End</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="datetime-local" id="endDateTime" name="endDateTime">
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label" for="expectedAttendees">Expected Attendees</label>
                    <div class="col-sm-10">
                        <input class="form-control" type="number" id="expectedAttendees" name="expectedAttendees" min="0">
                    </div>
                </div>

                <div class="mt-3 row">
                    <label class="col-sm-2 form-label">Notify</label>
                    <div class="col-sm-10">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="sendAll" name="sendAll">
                            <label class="form-check-label" for="sendAll">Send to all members</label>
                        </div>

                        <div id="customMembers" class="mt-2">
                            <label>Custom</label>
                            <div class="member-list">
                                {{#if members}}
                                    {{#each members}}
                                        <div class="form-check">
                                            <input class="form-check-input member-checkbox" type="checkbox" value="{{this._id}}" id="member-{{@index}}" name="customMembers">
                                            <label class="form-check-label" for="member-{{@index}}">{{this.fullName}}</label>
                                        </div>
                                    {{/each}}
                                {{else}}
                                    <div>No members found</div>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-3 row">
                    <div class="col-sm-12 text-end">
                        <button id="createEventBtn" class="btn btn-primary" type="submit">Create Event</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
  // client-side behavior: ensure customMembers checkboxes are included in POST
  // This script preserves existing behavior while keeping form submission simple.
  // If your original app used AJAX, adapt accordingly.
</script>
